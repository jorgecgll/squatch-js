<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>simplified JS</title>
    <script>
    !function(a,b){
      a("squatch","./dist/Squatch.js",b)
    }(function(a,b,c){
      // a = context
      // b = file
      // c = context
      // console.log(a,b,c === window);

      var d,e,f;
      c["_" + a] = {},
      c[a] = {},
      c[a].ready = function(b){
        c["_" + a].ready =  c["_" + a].ready || [];
        c["_" + a].ready.push(b);
      },

      e=document.createElement("script"),
      e.async=1,
      e.src=b,
      f=document.getElementsByTagName("script")[0],
      f.parentNode.insertBefore(e,f)
    },this);
    </script>
</head>
<body>
  <script>

  squatch.ready(function(){
    squatch.init({
      tenant_alias: "test_acy9ap6sesuid",
      user: {
        accountId: 'abc',
        id: '123',
        // email: 'erik@saasqt.ch',
        // firstName: 'Erik',
        // lastName: 'Aalbers'
      },
      engagementMedium: 'POPUP',
      widgetType: 'CONVERSION_WIDGET',
      jwt: 'token'

    });
    // squatch.api.lookUpReferralCode({referralCode: "JORGECONDE"}).then(function(json) {console.log(json)});
    // squatch.api.render({
    //   tenant_alias: "test_aspli64xauzne",
    //   user: {
    //     accountId: 'abc',
    //     id: '123',
    //     email: 'erik@saasqt.ch',
    //     firstName: 'Erik',
    //     lastName: 'Aalbers'
    //   },
    //   mode: 'POPUP',
    //   // jwt: 'token'
    //
    // }).then(function(response) {
    //   console.log('render');
    //   console.log(response);
    // }).catch(function(ex) {
    //   console.log(new Error('render() ' + ex));
    // });
  });

  </script>

  <div id="squatchembed"></div>
  <button id="squatchpop">Open Modal</button>
</body>
</html>
