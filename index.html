<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>simplified JS</title>
    <script>
    !function(a,b){
      a("squatch","./dist/Squatch.js",b)
    }(function(a,b,c){
      // a = context
      // b = file
      // c = context
      // console.log(a,b,c === window);

      var d,e,f;
      c["_" + a] = {},
      c[a] = {},
      c[a].ready = function(b){
        c["_" + a].ready =  c["_" + a].ready || [];
        c["_" + a].ready.push(b);
      }


      e=document.createElement("script"),
      e.async=1,
      e.src=b,
      f=document.getElementsByTagName("script")[0],
      f.parentNode.insertBefore(e,f)
    },this);
    </script>
</head>
<body>
  <script>

  squatch.ready(function(){
    squatch.init({
      tenantAlias: "test_aggrb70ymy559",
      domain: "https://staging.referralsaasquatch.com"
    });


    squatch.widgets().upsertUser({
      user: {
        id: '123',
        accountId: 'abc',
        firstName: 'Eduardo',
        lastName: 'Rodriguez'
      },
      engagementMedium: 'EMBED',
      widgetType: 'REFERRER_WIDGET',
      jwt: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMTIzIiwiYWNjb3VudElkIjoiYWJjIiwiZmlyc3ROYW1lIjoiRWR1YXJkbyIsImxhc3ROYW1lIjoiUm9kcmlndWV6In19.LjZVMU0EKe0ag442LOMRv0k6wJPxNiv8qCy_3GE5FWg'
    }).then(function(res){
      console.log(res);
    }).catch(function(err) {
      console.log(err);
    });

  });

  </script>

  <input type="text" name="Coupon" class="testClass" value="" />
  <div id="squatchembed"></div>
</body>
</html>
