!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.squatch=t():e.squatch=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){var t=void 0;switch(t=e instanceof Array?e[0]:e){case T.JS_API_INIT_CALL:c(e[1]);break;case T.JS_API_AUTOFILL_CALL:l(e[1]);break;case T.JS_API_GET_REWARD_BALANCES_CALL:m(e[1],e[2]);break;case T.JS_API_GET_FEATURE_REWARD_BALANCES_CALL:h(e[1],e[2]);break;case T.JS_API_GET_REWARD_CALL:f(e[1]);break;case T.JS_API_OPEN_CALL:L.open();break;case T.JS_API_CLOSE_CALL:L.close();break;case T.JS_API_SUBSCRIBE_CALL:N.subscribe(e[1],e[2]);break;default:console.error("Unknown method call `"+t+"`. Valid options are [init,autofill,getReward,getRewardBalance]")}}function i(e){e(document).ready(function(e){F=e;for(var t=0;t<window._sqh.length;t++){var n=window._sqh[t];n[0]==T.JS_API_SUBSCRIBE_CALL&&(a(n),window._sqh.splice(t,1))}for(var o=-1,r=0;r<window._sqh.length;r++){var i=window._sqh[r];if(i[0]==T.JS_API_INIT_CALL){a(i),o=r;break}}o>-1?window._sqh.splice(o,1):console.error('Could not find "init" in the _sqh queue when squatch.js was loaded.')})}function u(e,t){window._sqh.push([e,t])}function s(e,t,n){"undefined"==typeof e[t]?e[t]=T.IGNORE_OPTIONAL_WIDGET_PARAM:e[t]||((0,P["default"])(n),e[t]="")}function c(e){if(x)return void(0,P["default"])("Should not call init more than once");x=!0,e.tenant_alias||console.error("tenant_alias must be set"),"undefined"!=typeof e.autofill&&u(T.JS_API_AUTOFILL_CALL,e.autofill);var t=void 0;if("undefined"==typeof e.account_id)t=U;else{if(B=!0,!e.user_id||!e.first_name)return void console.error("The user_id, email, first_name must be set");switch(e.last_name||((0,P["default"])("No last name set. Defaulting to empty"),e.last_name=""),"undefined"==typeof e.email&&(e.email=T.IGNORE_OPTIONAL_WIDGET_PARAM),"undefined"==typeof e.payment_provider_id?e.payment_provider_id=T.IGNORE_OPTIONAL_WIDGET_PARAM:null===e.payment_provider_id&&((0,P["default"])("Payment provider id provided, but is null. Default to special value"),e.payment_provider_id=T.UNREGISTERED_PAYMENTPROVIDER_PARAM),"undefined"==typeof e.checksum&&(e.checksum=T.IGNORE_OPTIONAL_WIDGET_PARAM),"undefined"==typeof e.jwt&&(e.jwt=T.IGNORE_OPTIONAL_WIDGET_PARAM),e.checksum==T.IGNORE_OPTIONAL_WIDGET_PARAM&&e.jwt==T.IGNORE_OPTIONAL_WIDGET_PARAM&&e.user_image&&e.user_image.len>0&&console.error("User images will not be accepted without signed requests."),e.checksum||e.jwt||(e.checksum||(e.checksum=""),e.jwt||(e.jwt=""),console.error("Checksum or JWT not set properly for signed widget request.")),s(e,"user_image","No user profile image set. Defaulting to gravatar"),s(e,"fb_share_image","No fb share image set. Defaulting to no image"),s(e,"account_status","No account_status set. Defaulting to no account_status"),s(e,"referral_code","No referral_code set. Defaulting to no referral_code"),s(e,"user_referral_code","No user_referral_code set. Defaulting to no user_referral_code"),s(e,"locale","No locale set. Defaulting to no locale"),e.mode=e.mode||0===e.mode?e.mode:j,e.mode){case T.NO_CONTENT_MODE:t=q;break;case T.EMBED_MODE:t=G;break;case T.POPUP_MODE:t=L;break;case T.DEMO_MODE:t=L;break;case T.DEMO_EMBED_MODE:t=G;break;default:console.error("Unsupported mode: '"+e.mode+"'. Please initialize with one of the following modes: 'NOCONTENT', 'EMBED', or 'POPUP'")}}t?(t===G&&F("#squatchembed").length<=0&&(e.mode=T.NO_CONTENT_MODE,t=q),F.ajaxSetup({cache:!0}),F.getScript(W+T.EASYXDM_PATH,function(){(0,P["default"])("easyXDM loaded"),t.create(e,F,W,d)}).fail(b["default"])):(0,P["default"])("No widget being embedded. Probably because of a lack of configuration.")}function d(e,t){if("undefined"==typeof e||!e){J=t;for(var n=window._sqh.shift();n;)a(n),n=window._sqh.shift();window._sqh.push=function(){for(var e=0;e<arguments.length;e++)a(arguments[e]);return Array.prototype.push.apply(this,arguments)}}}function l(e){"string"==typeof e?J.code&&F(e).val(J.code):"function"==typeof e?e(J.code):console.error('The "autofill" method should be called with either a jQuery selector or a callback. Unknown type '+("undefined"==typeof e?"undefined":g(e)))}function f(e){"function"==typeof e?B?e(p()):console.error("Unsupported reward lookup widget push, you need to push with an account Id to use this feature"):console.error("Unsupported widget reward lookup push, invalid params.")}function p(){var e={};if(J.rewardBalance)for(var t=0;t<J.rewardBalance.length;t++)"PCT_DISCOUNT"==J.rewardBalance[t].type&&(e=J.rewardBalance[t]);else console.warn("Reward balance could not be found, it may not be implemented in your widget theme.");return"undefined"!=typeof e.type?{type:"PCT_DISCOUNT",details:{discountPercentage:e.totalDiscountPercent,referrerDiscountPercent:e.referrerDiscountPercent,referredDiscountPercent:e.referredDiscountPercent}}:{type:"PCT_DISCOUNT",details:{discountPercentage:0,referrerDiscountPercent:0,referredDiscountPercent:0}}}function _(e){var t=[];if(J.rewardBalance)for(var n=0;n<J.rewardBalance.length;n++)J.rewardBalance[n].type==e&&t.push(J.rewardBalance[n]);else console.warn("Reward balance could not be found, it may not be implemented in your widget theme.");return t}function m(e,t){B?"string"==typeof e?"function"==typeof t?t(_(e)):console.error("Unsupported widget reward type lookup push, invalid params."):"function"==typeof e?e(J.rewardBalance):console.error("Unsupported widget reward lookup push, invalid params."):console.error("Unsupported reward lookup widget push, you need to push with an account Id to use this feature")}function h(e,t){if(B)if("string"==typeof e&&"function"==typeof t){for(var n=_("FEATURE"),o=[],r=0;r<n.length;r++)n[r].featureType==e&&o.push(n[r]);t(o)}else console.error("Unsupported widget reward type lookup push, invalid params.");else console.error("Unsupported reward lookup widget push, you need to push with an account Id to use this feature")}function v(){"undefined"==typeof _sqh?console.error("_sqh must be defined and initialized to use this widget.\n         To initialize the popup widget call: \n         _sqh.push(['init',\n            {tenant_alias: '$yourTenantAlias', \n            account_id: '$viewingCustomerAccountId',\n            email: '$viewingCustomerEmail', \n            user_id : '$viewingUserId', \n            first_name: '$viewingCustomerFirstName', \n            last_name: '$viewingCustomerLastName'\n         ]}]);"):(0,A["default"])(T.SQUATCHJS_SCRIPT_NAME_REGEX,function(e){return e?(W=e,void(0,w["default"])(e+T.JQUERY_PATH,function(e){i(e)})):void console.error("Could not find properly formatted squatch.js DOM scripts")})}Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},E=n(2),A=r(E),y=n(4),w=r(y),O=n(6),b=r(O),I=n(3),P=r(I),R=n(7),T=o(R),M=n(8),N=o(M),D=n(10),L=o(D),C=n(16),U=o(C),S=n(17),G=o(S),k=n(18),q=o(k),j=T.POPUP_MODE,W=null,x=!1,B=!1,J=null,F=null;v();t.version="v1.0.0"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){for(var n=arguments.length<=2||void 0===arguments[2]?10:arguments[2],o=document.getElementsByTagName("script"),a=o.length,u=null;a--;){var s=o[a].src;if(s&&s.match(e)){u=s;break}}if(u||n<=0){var c=null;u&&((0,i["default"])(c),c=u.substr(0,u.lastIndexOf("/")+1)),t(c)}else(0,i["default"])("squatch js not finished loading try again."),setTimeout(function(){r(e,t,--n)},50)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(3),i=o(a)},function(e,t){"use strict";function n(){o&&window.console&&console.log.apply(console,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var o=!0;window.console&&console.log||(console={log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}})},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=arguments.length<=2||void 0===arguments[2]?u:arguments[2];void 0!==window.jQuery&&n.test(window.jQuery.fn.jquery)?t(window.jQuery):(0,i["default"])(e,function(){var e=window.jQuery.noConflict(!0);t(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(5),i=o(a),u=new RegExp("[1].[7-9](.[0-9])?")},function(e,t){"use strict";function n(e,t){var n=document.createElement("script");n.setAttribute("type","text/javascript"),n.setAttribute("src",e),n.readyState?n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||t()}:n.onload=t,(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(n)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";function n(){0==arguments[0].readyState?console.error("Failed to load script"):console.error("Failed to parse script: "+arguments[2].toString())}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.JS_API_INIT_CALL="init",t.JS_API_AUTOFILL_CALL="autofill",t.JS_API_GET_REWARD_BALANCES_CALL="getRewardBalance",t.JS_API_GET_FEATURE_REWARD_BALANCES_CALL="getRewardFeatureBalance",t.JS_API_GET_REWARD_CALL="getReward",t.JS_API_OPEN_CALL="open",t.JS_API_CLOSE_CALL="close",t.JS_API_SUBSCRIBE_CALL="subscribe",t.NO_CONTENT_MODE="NOCONTENT",t.EMBED_MODE="EMBED",t.POPUP_MODE="POPUP",t.DEMO_MODE="DEMO",t.DEMO_EMBED_MODE="DEMO_EMBED",t.DEFAULT_AUTO_OPEN="squatch_open",t.IGNORE_OPTIONAL_WIDGET_PARAM="_IGNORE_",t.UNREGISTERED_PAYMENTPROVIDER_PARAM="UNREGISTERED",t.SQUATCHJS_SCRIPT_NAME_REGEX=/squatch(\.min)?\.js(\?.*)*$/,t.JQUERY_PATH="/external/jquery-1.9.0.min.js",t.JQUERY_REVEAL_PATH="/external/reveal.js",t.JQUERY_REVEAL_CSS_PATH="/external/reveal.css",t.EASYXDM_PATH="/external/easyXDM.min.js"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){function n(t,n){var r=o.getElementsByTagName("iframe")[0];r.style.height=n+"px",r.style.width=e.mode!=s.EMBED_MODE&&e.mode!=s.DEMO_EMBED_MODE||f?t+"px":"100%"}var o=t.framediv,r=t.callback,a=t.closeFnc,i=t.pageType,l=(0,c.getFrameUrl)(e,i),f=!0,p=new window.easyXDM.Rpc({remote:l,container:o,props:{allowtransparency:"true",scrolling:"no",marginwidth:"0",marginheight:"0",frameborder:"no"}},{local:{init:function(e,t,o,a,i){(0,u["default"])("got init message"),f=i,n(t,e);var s={code:o,rewardBalance:a};r(!1,s)},resize:function(e,t){(0,u["default"])("got resize message"),n(t,e),window.dispatchEvent(new window.Event("resize.modal"))},publish:function(e,t){if((0,u["default"])("got publish message"),d[e])for(var n=0;n<d[e].length;n++)d[e][n](t)},close:function(){(0,u["default"])("got close message"),a()},error:function(e,t,o){console.error(e),f=!1,n(o,t),r(!0)}},remote:{openedWidget:{},closedWidget:{}}});return p}function a(e,t){d[e]||(d[e]=[]),d[e].push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=r,t.subscribe=a;var i=n(3),u=o(i),s=n(7),c=n(9),d={}},function(e,t,n){"use strict";function o(e){var t="undefined"==typeof e.host?"app.referralsaasquatch.com":e.host;return window.location.protocol+"//"+t+"/a/"+e.tenant_alias+"/"}function r(e,t){var n=void 0,r=void 0;e.payment_provider_id==a.IGNORE_OPTIONAL_WIDGET_PARAM?(n=e.account_id,r=a.IGNORE_OPTIONAL_WIDGET_PARAM):e.payment_provider_id==a.UNREGISTERED_PAYMENTPROVIDER_PARAM?(n=a.IGNORE_OPTIONAL_WIDGET_PARAM,r=e.account_id):(n=e.payment_provider_id,r=null===e.account_id?"":e.account_id);var i=void 0;return i=r!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"systemId="+encodeURIComponent(r)+(n!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&paymentProviderId="+encodeURIComponent(n):""):n!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"paymentProviderId="+encodeURIComponent(n):"",o(e)+"widgets/squatchwidget?"+i+"&userId="+encodeURIComponent(e.user_id)+(e.email!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&email="+encodeURIComponent(e.email):"")+"&firstName="+encodeURIComponent(e.first_name)+"&lastName="+encodeURIComponent(e.last_name)+(e.user_image!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&userImage="+encodeURIComponent(e.user_image):"")+(e.checksum!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&paramChecksum="+encodeURIComponent(e.checksum):"")+(e.jwt!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&paramJwt="+encodeURIComponent(e.jwt):"")+(e.locale!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&locale="+encodeURIComponent(e.locale):"")+(e.fb_share_image!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&fbShareImage="+encodeURIComponent(e.fb_share_image):"")+(e.account_status!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&accountStatus="+encodeURIComponent(e.account_status):"")+(e.referral_code!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&referralCode="+encodeURIComponent(e.referral_code):"")+(e.user_referral_code!=a.IGNORE_OPTIONAL_WIDGET_PARAM?"&userReferralCode="+encodeURIComponent(e.user_referral_code):"")+"&pageType="+t+"&mode="+e.mode}Object.defineProperty(t,"__esModule",{value:!0}),t.getTenantHost=o,t.getFrameUrl=r;var a=n(7)},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,o){(0,d["default"])("loading popup widget"),(0,m["default"])(t),(0,d["default"])("reveal loaded");var r=document.createElement("div");r.setAttribute("id","squatchModal"),r.setAttribute("class","reveal-modal"),t("<div></div>").attr("id","squatchModalWrapper").append(r).appendTo("body"),v=t("#squatchModalWrapper");var a={framediv:r,callback:o,closeFnc:function(){t("#squatchModalWrapper").trigger("squatch:close")},pageType:"modalPopup"},i=p.setup(e,a);t("#squatchModalWrapper").on("reveal:close","#squatchModal",function(){i.closedWidget()}),t("body").on("click",".squatchpop",function(e){e.preventDefault(),t("#squatchModalWrapper").trigger("squatch:open")}),v.on("squatch:close",function(e){t("#squatchModal").trigger("reveal:close")}),v.on("squatch:open",function(n){i.openedWidget(e.mode,e.user_id,e.account_id),t("#squatchModal").reveal()}),s(e,t)}function i(){return v?void v.trigger("squatch:open"):void console.error("The squatch widget must be loaded in popup mode to be opened")}function u(){return v?void v.trigger("squatch:close"):void console.error("The squatch widget must be loaded in popup mode to be closed")}function s(e,t){for(var n=!1,o=e.auto_open_param?e.auto_open_param:h.DEFAULT_AUTO_OPEN,r=window.location.search.substring(1),a=r.split("&"),u=0;u<a.length;u++)a[u]===o&&!function(){var e=setInterval(function(){t(document).ready(function(){i(),n=!0}),n&&clearInterval(e)},1e3)}()}Object.defineProperty(t,"__esModule",{value:!0}),t.create=a,t.open=i,t.close=u;var c=n(3),d=r(c),l=n(6),f=(r(l),n(8)),p=o(f),_=n(11),m=r(_),h=n(7),v=null},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){e(document).ready(function(){i["default"].use()}),e.fn.reveal=function(t){var n={animationspeed:200,closeonbackgroundclick:!0,dismissmodalclass:"close-reveal-modal"},o=e.extend({},n,t);return this.each(function(){function t(){u=!1}function n(){u=!0}function r(t){return{top:(e(window).height()-i.outerHeight())/2+"px",left:(e(window).width()-i.outerWidth())/2+"px",marginTop:t+"px"}}function a(e){i.css(r(e))}var i=e(this),u=!1,s=e(".reveal-modal-bg");0==s.length&&(s=e('<div class="reveal-modal-bg" />').insertAfter(i)),i.bind("reveal:open",function(){s.unbind("click.modalEvent"),e("."+o.dismissmodalclass).unbind("click.modalEvent"),u||(n(),i.css({opacity:0,visibility:"visible"}),a(-40),s.fadeIn(o.animationspeed/2,"linear"),i.animate(r(0),{duration:o.animationspeed,speed:"linear",callback:t()}).animate({opacity:1},{duration:3*o.animationspeed/4,speed:"linear",queue:!1}),e(window).bind("resize.modal",a)),i.unbind("reveal:open")}),i.bind("reveal:close",function(){u||(n(),i.css({visibility:"hidden",marginTop:"-40px",top:"-2000px",opacity:"0"}),s.css({display:"none"}),t(),e(window).unbind("resize.modal")),i.unbind("reveal:close")}),i.trigger("reveal:open"),o.closeonbackgroundclick&&(s.css({cursor:"pointer"}),s.bind("click.modalEvent",function(){i.trigger("reveal:close")})),e("body").keyup(function(e){27===e.which&&i.trigger("reveal:close")})})}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(12),i=o(a)},function(e,t,n){var o,r=0,a=n(13);"string"==typeof a&&(a=[[e.id,a,""]]),t.use=t.ref=function(){return r++||(t.locals=a.locals,o=n(15)(a,{})),t},t.unuse=t.unref=function(){--r||(o(),o=null)}},function(e,t,n){t=e.exports=n(14)(),t.push([e.id,".reveal-modal-bg{position:fixed;height:100%;width:100%;background:#000;background:rgba(0,0,0,.6);z-index:100;display:none;top:0;left:0}.reveal-modal{visibility:hidden;opacity:0;position:fixed;z-index:101;top:-2000px}.reveal-modal iframe{overflow:hidden}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=p[o.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](o.parts[a]);for(;a<o.parts.length;a++)r.parts.push(c(o.parts[a],t))}else{for(var i=[],a=0;a<o.parts.length;a++)i.push(c(o.parts[a],t));p[o.id]={id:o.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},o=0;o<e.length;o++){var r=e[o],a=r[0],i=r[1],u=r[2],s=r[3],c={css:i,media:u,sourceMap:s};n[a]?n[a].parts.push(c):t.push(n[a]={id:a,parts:[c]})}return t}function a(e,t){var n=h(),o=E[E.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),E.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=E.indexOf(e);t>=0&&E.splice(t,1)}function u(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function c(e,t){var n,o,r;if(t.singleton){var a=g++;n=v||(v=u(t)),o=d.bind(null,n,a,!1),r=d.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),o=f.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=u(t),o=l.bind(null,n),r=function(){i(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}function d(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=A(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function l(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function f(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var p={},_=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},m=_(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=_(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,g=0,E=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=m()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return o(n,t),function(e){for(var a=[],i=0;i<n.length;i++){var u=n[i],s=p[u.id];s.refs--,a.push(s)}if(e){var c=r(e);o(c,t)}for(var i=0;i<a.length;i++){var s=a[i];if(0===s.refs){for(var d=0;d<s.parts.length;d++)s.parts[d]();delete p[s.id]}}}};var A=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,o){(0,i["default"])("loading cookie code widget");var r=(0,u.getTenantHost)(e)+"widgets/squatchcookie",a=new window.easyXDM.Rpc({remote:r},{local:{init:function(e){(0,i["default"])("got init message");var t={code:e};o(!1,t)}}});return a}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r;var a=n(3),i=o(a),u=n(9)},function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,n,o){(0,u["default"])("loading embed widget");var r=document.createElement("div");t("<div></div>").hide().attr("id","squatchEmbedWrapper").append(r).insertAfter(t("#squatchembed"));var a={framediv:r,callback:function(e,n){setTimeout(function(){t("#squatchembed").hide(),t("#squatchEmbedWrapper").show(),o(e,n)},500)},closeFnc:function(){},pageType:"embeddedWidget"},i=c.setup(e,a);return i.openedWidget(e.mode,e.user_id,e.account_id),i}Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;var i=n(3),u=r(i),s=(n(7),n(8)),c=o(s);t.create=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n,o){var r=(0,u.getFrameUrl)(e,""),a=document.createElement("div");t("<div></div>").hide().append(a).appendTo("body");var s=new window.easyXDM.Rpc({remote:r,container:a,props:{allowtransparency:"true",scrolling:"no",marginwidth:"0",marginheight:"0",frameborder:"no"}},{local:{init:function(e,t){(0,i["default"])("got init message");var n={code:e,reward:t};o(!1,n)},error:function(e){console.error(e)}}});return s}Object.defineProperty(t,"__esModule",{value:!0}),t.create=r;var a=n(3),i=o(a),u=n(9)}])});